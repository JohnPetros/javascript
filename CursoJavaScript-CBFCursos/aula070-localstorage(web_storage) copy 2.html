<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CBF Cursos - JavaScript</title>
    <style>
      #fconf{
        position: absolute;
        top: 0;
        left: 0;
        border: 1px solid black;
        background-color: gray;
        padding: 20px;
        border-radius: 5px;
        display: none;
      }

    </style>
    <script>

      var vcorf, vcort, vnome
    
      function iniciar(){
        if (localStorage.nome) {
        vcorf = localStorage.corf
        vcort = localStorage.cort
        vnome = localStorage.nome
        definirCor(1, vcorf)
        definirCor(2, vcort)
        document.getElementById('painel').innerHTML = 'Bem vindo ' + vnome + '<hr>'
      } else {
        document.write("Sem suporte à Web Storage!");
      }
      }
     

      function gravar(){
        vnome = document.getElementById('fnome').value
        localStorage.corf = vcorf
        localStorage.cort = vcort
        localStorage.nome = vnome
        var form = document.getElementById('fconf')
        form.style.display = 'none'
        
      }

      function definirCor(op, cor){
        if(op==1){
          document.body.style.backgroundColor = cor
          vcorf = cor
        } else {
          document.body.style.color = cor
          vcort = cor
        }
      }

      function mostraConf(){
        var form = document.getElementById('fconf')
        form.style.display = 'block'
      }

      window.addEventListener('load', iniciar)

    </script>
  </head>
  <body>
    <hr><br>

    <p>LocalStorage - Curso de JavaScript</p>
    <p id="painel"></p>

    <button onclick="mostraConf()">Configurações</button>

    <form name="dados" id="fconf">
      <label for="fnome">Nome</label><br>
      <input type="text" name="fnome" id="fnome" size="20"><br><br>
      <label for="fcorF">Cor fundo:</label><br>
      <input type="radio" name="fcorF" id="fcorF" onclick="definirCor(1, 'black')">Preto<br>
      <input type="radio" name="fcorF" id="fcorF" onclick="definirCor(1, 'white')">Branco<br>
      <input type="radio" name="fcorF" id="fcorF" onclick="definirCor(1, 'red')">Vermelho<br>
      <input type="radio" name="fcorF" id="fcorF" onclick="definirCor(1, 'green')">Verde<br>
      <input type="radio" name="fcorF" id="fcorF" onclick="definirCor(1, 'blue')">Azul<br><br>
      <label for="fcorT">Cor texto:</label><br>
      <input type="radio" name="fcorT" onclick="definirCor(2, 'black')">Preto<br>
      <input type="radio" name="fcorT" onclick="definirCor(2, 'white')">Branco<br><br>
      <input type="button" value="Gravar" onclick="gravar()">
    </form>




  </body>
</html>
