<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CBF Cursos - JavaScript</title>
  </head>
  <style>
    .letra{
        width: 130px;
        height: 130px;
        font-size: 50px;
        text-transform: uppercase;
        text-align: center;
        margin: 5px;
        display: none;
    }
    .letraJog{
        width: 130px;
        height: 130px;
        font-size: 50px;
        text-transform: uppercase;
        text-align: center;
        margin: 5px;
    }
    .dvdisplay{
        display: block;
    }
    #dvforca{
        position: absolute;
        left: 150px;
    }
    #cabeca{
        position: absolute;
        top: 500px;
        left: 150px;
    }
    #corpo{
        position: absolute;
        top: 830px;
        left: 330px;
    }
    #bracoE{
        position: absolute;
        top: 830px;
        left: 111px;
    }
    #bracoD{
        position: absolute;
        top: 830px;
        left: 332px;
        
    }
    #pernaE{
        position: absolute;
        top: 1180px;
        left: 160px;
        
    }
    #pernaD{
        position: absolute;
        top: 1180px;
        left: 332px;
        
    }
    #dvletrasdigitadas{
        font-size: 30px;
    }
    #dvmsg{
        font-size: 30px;
    }
    button{
        width: 200px;
        height: 70px;
        font-size: 30px;
        border-radius: 15px;
        background-color: blue;
        color: white;
        font-weight: bold;
        margin-bottom: 50px;
    }
    button:hover{
        background-color: rgb(61, 61, 239);
    }
  </style>
 
  <body>

   <script>

        var palavras = ['javascript', 'curso', 'computador', 'transporte', 'livraria', 'tecnologia', 'controle', 'brasil', 'impressora', 'xicara', 'telefone', 'internet', 'camera', 'monitor', 'brinquedo', 'youtube', 'portaria', 'escola', 'carnaval', 'teclado', 'guitarra', 'bateria', 'chinelo', 'helicoptero','arduino', 'professor', 'mouse', 'linguagem']
        var qtd = palavras.length-1
        var pos = Math.round(Math.random()*qtd)
        var palavra = palavras[pos]
        var tam = palavra.length
        var cxLetras = []
        var acertos = 0
        var errosMax = 7
        var erros = 0
        var desenhos = []
        var acertou = false
        var jogando = false
        var jog
    

        function definirLetras(l){
            var obj
            for(var i = 0; i < 20; i++){
                obj = document.getElementById('letra' + i).value = ''
                obj = document.getElementById('letra' + i).style.display = 'none'
            }
            for(var i = 0; i < l; i++){
                obj = document.getElementById('letra' + i).style.display = 'inline-block'
            }
        }


        function jogar(){
            jog = document.getElementById('letraJog')
            jog.focus()
            if(jog.value == ''){
                alert('Digite uma letra')
            } else {
                if(jogando){
                    var obj, letraTmp, letra, pesq
                    letra = jog.value
                    jog.value = ''
                    acertou = false
                    pesq = palavra.match(letra)
                    while(pesq != null){
                        letraTmp = palavra.search(letra)
                        obj = document.getElementById('letra' + letraTmp).value = letra
                        palavra = palavra.replace(letra, '0')
                        acertos++
                        pesq = palavra.match(letra)
                        acertou = true
                    }
                    if(!acertou){
                        document.getElementById('dvletrasdigitadas').innerHTML += letra.toUpperCase()
                        erros++
                        if(erros < 7){
                            desenhos[erros].style.display = 'block'
                        } else {
                            document.getElementById('cabeca').src = 'imgs/cabeca2.png'
                            document.getElementById('dvmsg').innerHTML = 'PERDEU'
                            jogando = false
                        }
                    }
                    if(acertos == tam){
                        document.getElementById('dvsmg').innerHTML = 'GANHOU'
                        jogando = false
                    }
                }
            }
        }

        function iniciar(){
            jogando = true
            jog = document.getElementById('letraJog')
            jog.value = ''
            jog.focus()
            acertos = 0
            erros = 0
            acertou = false
            document.getElementById('dvletrasdigitadas').innerHTML = 'Letras Erradas Digitadas: '
            pos = Math.round(Math.random()*qtd)
            palavra = palavras[pos]
            definirLetras(tam)
            desenhos[1] = document.getElementById('cabeca')
            desenhos[2] = document.getElementById('corpo')
            desenhos[3] = document.getElementById('bracoE')
            desenhos[4] = document.getElementById('bracoD')
            desenhos[5] = document.getElementById('pernaE')
            desenhos[6] = document.getElementById('pernaD')
            document.getElementById('cabeca').src = 'imgs/cabeca1.png'
            for(var i=1; i<7; i++){
                desenhos[i].style.display = 'none'
            } 
        }
   
        function dica(){
            alert(palavra)
            jog.focus()
        }

        window.addEventListener('load', iniciar)
    
   
   </script>


   <div id="dvmenu" class="dvdisplay">
    <button onclick="iniciar()">Nova Palavra</button>
   </div>
   <div id="dvpalavra" class="dvdisplay">
    <input type="text" id="letra0" class="letra" maxlength="1">
    <input type="text" id="letra1" class="letra" maxlength="1">
    <input type="text" id="letra2" class="letra" maxlength="1">
    <input type="text" id="letra3" class="letra" maxlength="1">
    <input type="text" id="letra4" class="letra" maxlength="1">
    <input type="text" id="letra5" class="letra" maxlength="1">
    <input type="text" id="letra6" class="letra" maxlength="1">
    <input type="text" id="letra7" class="letra" maxlength="1">
    <input type="text" id="letra8" class="letra" maxlength="1">
    <input type="text" id="letra9" class="letra" maxlength="1">
    <input type="text" id="letra10" class="letra" maxlength="1">
    <input type="text" id="letra11" class="letra" maxlength="1">
    <input type="text" id="letra12" class="letra" maxlength="1">
    <input type="text" id="letra13" class="letra" maxlength="1">
    <input type="text" id="letra14" class="letra" maxlength="1">
    <input type="text" id="letra15" class="letra" maxlength="1">
    <input type="text" id="letra16" class="letra" maxlength="1">
    <input type="text" id="letra17" class="letra" maxlength="1">
    <input type="text" id="letra18" class="letra" maxlength="1">
    <input type="text" id="letra19" class="letra" maxlength="1">
   </div>
   <div id="dvjogador" class="dvdisplay">
        <div id="controlesJogador">
            <input type="text" id="letraJog" class="letraJog" maxlength="1">
            <button onclick="jogar()">Jogar</button>
            <button onclick="dica()">Dica</button>
            <div id="dvmsg"></div>
            <div id="dvletrasdigitadas">Letras Erradas Digitadas: </div>
        </div>
        <div id="dvForca">
            <img id="cabeca" src="imgs/cabeca1.png" alt="">
            <img id="corpo" src="imgs/corpo.png" alt="">
            <img id="bracoE" src="imgs/bracoE.png" alt="">
            <img id="bracoD" src="imgs/bracoD.png" alt="">
            <img id="pernaE" src="imgs/pernaE.png" alt="">
            <img id="pernaD" src="imgs/pernaD.png" alt="">
        </div>
   </div>
  </body>
</html>
