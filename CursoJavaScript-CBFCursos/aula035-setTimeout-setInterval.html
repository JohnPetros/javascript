<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CBF Cursos - JavaScript</title>
  </head>
  <style>
    #dv1{
        width: 200px;
        height: 200px;
        border: 1px solid black;
        background-color: white;
    }
  </style>
  <script>
    
   function mudaCor(){
    var obj = document.getElementById('dv1')
    var r = Math.floor(Math.random()*255)
    var g = Math.floor(Math.random()*255)
    var b = Math.floor(Math.random()*255)
    obj.style.backgroundColor = 'rgb(' + r + ',' + g + ',' + b + ')'
   }

   var tpm

   //O setTimeout()método chama uma função após alguns milissegundos.
  // 1 segundo = 1000 milissegundos.

  /*  
  
  O setTimeout()é executado apenas uma vez.

  Se você precisar de execuções repetidas, use setInterval()em vez disso.

  Use o clearTimeout()método para impedir que a função seja iniciada.

  Para limpar um tempo limite, usa-se o objeto retornado de setTimeout(), podendo parar a execução chamando clearTimeout():
  
  */

    //    var tmp = setTimeout(mudaCor, 3000)
    //    var tpm = setInterval(mudaCor, 1000)


    // O método setInterval() chama uma função em intervalos especificados (em milissegundos).
    // O método setInterval() continua chamando a função até clearInterval() ser chamado ou a janela ser fechada.
    // 1 segundo = 1000 milissegundos.

    /* 
    Para limpar um tempo limite, usa-se o objeto retornado de setInterval(), podendo parar a execução chamando clearInterval():
    */

    function iniciar(){
        tpm = setInterval(mudaCor, 1000)
    }

    function parar(){
        clearInterval(tpm)
    }

   
    function addEventos(){
        document.getElementById('bt1').addEventListener('click', iniciar)
        document.getElementById('bt2').addEventListener('click', parar)
    }

    window.addEventListener('load', addEventos)

  </script>
  <body>

    <div id="dv1"></div>
    <button id="bt1">Iniciar</button>
    <button id="bt2">Parar</button>

  </body>
</html>
