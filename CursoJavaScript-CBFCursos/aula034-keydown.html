<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CBF Cursos - JavaScript</title>
  </head>
  <style>
    #dv1{
        width: 100px;
        height: 100px;
        border: 1px solid black;
        background-color: red;
        position: absolute;
        left: 0;
        top: 0;
    }
  </style>
  <script>

    var px = py = 0

    function move(){
        var obj = document.getElementById('dv1')
        var tecla = event.keyCode
        // 37 = Esquerda - 38 = Cima - 39 = Direita - 40 = Baixo
        if(tecla == 37){
            px -= 10
            obj.style.left = px + 'px'
        } else if(tecla == 38){
            py -= 10
            obj.style.top = py + 'px'
        } else if(tecla == 39){
            px += 10
            obj.style.left = px + 'px'
        } else if(tecla == 40){
            py += 10
            obj.style.top = py + 'px'
        } else if(tecla == 32){
            alert('Evento keydown Removido')
            this.removeEventListener('keydown', move)
        } 
    }
    
    function adicionarEvento(){
        alert('Evento keydown Adicionado')
        this.addEventListener('keydown', move)
    }
   

    document.addEventListener('keydown', move)
    document.getElementById('dv1').addEventListener('click', adicionarEvento)
    
    // document.addEventListener('keydown', function(event){
    //     var obj = document.getElementById('dv1')
    //     var tecla = event.keyCode
    // 37 = Esquerda - 38 = Cima - 39 = Direita - 40 = Baixo
    //     if(tecla == 37){
    //         px -= 10
    //         obj.style.left = px + 'px'
    //     } else if(tecla == 38){
    //         py -= 10
    //         obj.style.top = py + 'px'
    //     } else if(tecla == 39){
    //         px += 10
    //         obj.style.left = px + 'px'
    //     } else if(tecla == 40){
    //         py += 10
    //         obj.style.top = py + 'px'
    //     }
    // })
    
  </script>
  <body>

   <div id="dv1" onclick="adicionarEvento()"></div>

  </body>
</html>
